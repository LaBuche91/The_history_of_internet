import{r,j as A}from"./index-BZ1wdceF.js";class s{constructor(){this.sounds=new Map,this.isEnabled=!0,this.volume=.5,this.init()}init(){const e={"retro-beep":{url:"/sounds/retro-beep.mp3",fallback:this.generateBeepSound(800,.3)},"dialup-modem":{url:"/sounds/dialup-modem.mp3",fallback:this.generateDialupSound()},"msn-sound":{url:"/sounds/msn-nudge.mp3",fallback:this.generateMSNSound()},"connection-success":{url:"/sounds/connection-success.mp3",fallback:this.generateSuccessSound()},"download-complete":{url:"/sounds/download-complete.mp3",fallback:this.generateCompleteSound()},"nudge-vibrate":{url:"/sounds/nudge-vibrate.mp3",fallback:this.generateNudgeSound()}};Object.entries(e).forEach(([o,t])=>{this.loadSound(o,t)})}loadSound(e,o){const t=new Audio;t.src=o.url,t.preload="auto",t.volume=this.volume,t.onerror=()=>{o.fallback&&(t.src=o.fallback)},this.sounds.set(e,t)}generateBeepSound(e=800,o=.3){const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),a=t.createGain();return n.connect(a),a.connect(t.destination),n.frequency.setValueAtTime(e,t.currentTime),n.type="square",a.gain.setValueAtTime(0,t.currentTime),a.gain.linearRampToValueAtTime(.3,t.currentTime+.01),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+o),n.start(t.currentTime),n.stop(t.currentTime+o),"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}generateDialupSound(){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}generateMSNSound(){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}generateSuccessSound(){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}generateCompleteSound(){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}generateNudgeSound(){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp56hVFApGn+DyvmcsC2PfE..."}play(e){if(!this.isEnabled)return;const o=this.sounds.get(e);o&&(o.currentTime=0,o.play().catch(t=>{console.warn(`Impossible de jouer le son ${e}:`,t)}),this.showSoundEffect())}showSoundEffect(){const e=document.querySelector(".sound-wave")||this.createSoundIndicator();e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},500)}createSoundIndicator(){const e=document.createElement("div");return e.className="sound-wave",e.innerHTML="â™ª",e.style.cssText=`
      position: fixed;
      top: 2rem;
      right: 2rem;
      font-size: 2rem;
      color: #00ff00;
      z-index: 1000;
      pointer-events: none;
    `,document.body.appendChild(e),e}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.sounds.forEach(o=>{o.volume=this.volume})}toggle(){return this.isEnabled=!this.isEnabled,this.isEnabled}mute(){this.isEnabled=!1}unmute(){this.isEnabled=!0}}const d=new s,c=()=>{const i=r.useRef(null);return r.useEffect(()=>{window.audioManager=d,(()=>{i.current&&(i.current.innerHTML=`
          <div style="position: fixed; top: 1rem; left: 1rem; z-index: 1000; background: rgba(0,0,0,0.8); padding: 1rem; border-radius: 8px; color: white;">
            <button onclick="window.audioManager.toggle()" style="margin-right: 0.5rem; padding: 0.5rem; background: #333; color: white; border: 1px solid #666; border-radius: 4px; cursor: pointer;">
              ðŸ”Š Audio
            </button>
            <input type="range" min="0" max="1" step="0.1" value="0.5" 
                   onchange="window.audioManager.setVolume(this.value)"
                   style="vertical-align: middle;">
          </div>
        `)})()},[]),A.jsx("div",{ref:i})};export{c as default};
